# Example Docker Compose for the briefing dashboard.
# Customize the domain, database path, and reverse proxy labels for your setup.

services:
  web:
    build: .
    container_name: briefing-dashboard
    restart: unless-stopped
    ports:
      - "3000:3000"
    volumes:
      # Mount your SQLite database (read-only for the frontend)
      - ${DATABASE_PATH:-./data/briefings.db}:/app/data/briefings.db:ro
    environment:
      - DATABASE_PATH=/app/data/briefings.db

    # ─── Optional: Traefik reverse proxy labels ───
    # Uncomment and customize if using Traefik:
    #
    # labels:
    #   - "traefik.enable=true"
    #   - "traefik.http.routers.briefing.rule=Host(`briefing.example.com`)"
    #   - "traefik.http.routers.briefing.entrypoints=websecure"
    #   - "traefik.http.routers.briefing.tls=true"
    #   - "traefik.http.routers.briefing.tls.certresolver=myresolver"
    #   - "traefik.http.services.briefing.loadbalancer.server.port=3000"
    # networks:
    #   - traefik-public
    #
    # networks:
    #   traefik-public:
    #     external: true
